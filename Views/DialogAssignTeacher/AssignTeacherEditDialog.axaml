<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:cschool.ViewModels"
        xmlns:model="using:cschool.Models"
        x:DataType="vm:AssignTeacherViewModel"
        x:Class="cschool.Views.DialogAssignTeacher.AssignTeacherEditDialog"
        Width="500" Height="480"
        Title="Sửa phân công"
        WindowStartupLocation="CenterOwner">

    <Border Background="#FAFAFA" Padding="20" CornerRadius="10">
        <StackPanel Spacing="15">

            <!-- Tiêu đề -->
            <TextBlock Text="SỬA PHÂN CÔNG" 
                       FontSize="20" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center"/>

            <!-- Khu nhập liệu -->
            <Grid ColumnDefinitions="*,*"
                  RowDefinitions="Auto,Auto,Auto,Auto,Auto"
                  ColumnSpacing="12" RowSpacing="12">

                <StackPanel Grid.Row="0" Grid.Column="0">
                    <TextBlock Text="Giáo viên:" FontWeight="SemiBold" x:Name="TeacherComboBox"/>
                    <ComboBox ItemsSource="{Binding Teachers}" 
                              SelectedItem="{Binding SelectedTeacher}" 
                              DisplayMemberBinding="{Binding Name}" 
                              Width="200"/>
                </StackPanel>

                <StackPanel Grid.Row="0" Grid.Column="1" x:Name="SubjectComboBox">
                    <TextBlock Text="Môn học:" FontWeight="SemiBold"/>
                    <ComboBox ItemsSource="{Binding Subjects}" 
                              SelectedItem="{Binding SelectedSubject}" 
                              DisplayMemberBinding="{Binding Name}" 
                              Width="200"/>
                </StackPanel>

                <StackPanel Grid.Row="1" Grid.Column="0" x:Name="ClassComboBox">
                    <TextBlock Text="Lớp học:" FontWeight="SemiBold"/>
                    <ComboBox ItemsSource="{Binding Classes}" 
                              SelectedItem="{Binding SelectedClass}" 
                              DisplayMemberBinding="{Binding Name}" 
                              Width="200"/>
                </StackPanel>

                <StackPanel Grid.Row="1" Grid.Column="1" x:Name="DayComboBox">
                    <TextBlock Text="Ngày học:" FontWeight="SemiBold"/>
                    <ComboBox ItemsSource="{Binding DaysOfWeek}" 
                              SelectedItem="{Binding SelectedDay}" 
                              Width="200"/>
                </StackPanel>

                <StackPanel Grid.Row="2" Grid.ColumnSpan="2" Orientation="Horizontal" Spacing="35">
                    <StackPanel>
                        <TextBlock Text="Tiết bắt đầu:" FontWeight="SemiBold"/>
                        <TextBox Width="200" Text="{Binding Start}"/>
                    </StackPanel>
                    <StackPanel>
                        <TextBlock Text="Tiết kết thúc:" FontWeight="SemiBold"/>
                        <TextBox Width="200" Text="{Binding End}"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Grid.Row="3" Grid.ColumnSpan="2" Orientation="Horizontal" Spacing="35">
                    <StackPanel>
                        <TextBlock Text="Bài kiểm tra:" FontWeight="SemiBold"/>
                        <TextBox Width="200" Text="{Binding QuizCount}"/>
                    </StackPanel>
                    <StackPanel>
                        <TextBlock Text="Bài miệng:" FontWeight="SemiBold"/>
                        <TextBox Width="200" Text="{Binding OralCount}"/>
                    </StackPanel>
                </StackPanel>
            </Grid>

            <!-- Nút hành động -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="20"
                        Margin="0,20,0,0">
                <Button Content="💾 Cập nhật" 
                        Background="#4CAF50" 
                        Foreground="White" 
                        Padding="25,8"
                        Width="150"
                        Click = "OnSaveButtonClick" 
                        HorizontalAlignment="Center"
                        />

                <Button Content="❌ Hủy" 
                        Background="#f44336" 
                        Foreground="White" 
                        Padding="25,8"
                        Width="120"
                        Click = "OnCancelButtonClick"
                        HorizontalAlignment="Center"
                        />
            </StackPanel>

        </StackPanel>
    </Border>
</Window>
