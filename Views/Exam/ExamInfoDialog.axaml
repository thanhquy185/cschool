<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:cschool.ViewModels;assembly=cschool"
        x:Class="cschool.Views.Exam.ExamInfoDialog"
        x:DataType="vm:ExamViewModel"
        xmlns:conv="using:cschool.Views.Exam"
        Title="Chi tiáº¿t lá»‹ch thi"
        Width="1100"
        Height="600"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        SystemDecorations="None"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent"
        WindowStartupLocation="CenterOwner"
        CornerRadius="8"
        Padding="0">

    <Border CornerRadius="8" Background="White" BorderBrush="#DDD" BorderThickness="1">
        <Grid RowDefinitions="Auto,*">
            
            <!-- ðŸ”¹ Header -->
            <Border Background="#4285F4" Padding="16,10" CornerRadius="8,8,0,0">
                <Grid>
                    <!-- Cá»™t trÃ¡i rá»—ng Ä‘á»ƒ cÃ¢n -->
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!-- TiÃªu Ä‘á» á»Ÿ giá»¯a -->
                    <TextBlock Grid.Column="1"
                            Text="Chi tiáº¿t lá»‹ch thi"
                            FontSize="18"
                            FontWeight="Bold"
                            Foreground="White"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            />

                    <!-- NÃºt Ä‘Ã³ng á»Ÿ bÃªn pháº£i -->
                    <Button Grid.Column="2"
                            Content="âœ•"
                            Background="Transparent"
                            Foreground="White"
                            FontSize="18"
                            BorderThickness="0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Click="CloseButton_Click"/>
                </Grid>
            </Border>

            <!-- ðŸ”¹ Ná»™i dung -->
            <Border Grid.Row="1" Padding="20">

                <!-- ðŸ§¾ ThÃ´ng tin há»c sinh -->
                <Grid Margin="10,0,30,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- MÃ£ -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="MÃ£" FontSize="15" FontWeight="Bold" Margin="0,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="1" Grid.Column="0" Text="{Binding ExamDetails.Id}" HorizontalContentAlignment="Center" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="0,0,0,30"/>

                    <!-- TÃªn mÃ´n há»c -->
                    <TextBlock Grid.Row="0" Grid.Column="1" Text="TÃªn mÃ´n há»c" FontSize="15" FontWeight="Bold" Margin="20,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding ExamDetails.Subject}" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="20,0,0,30"/>

                    <!-- Khá»‘i lá»›p -->
                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Khá»‘i lá»›p" FontSize="15" FontWeight="Bold" Margin="20,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="1" Grid.Column="2" Text="{Binding ExamDetails.Grade}" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="20,0,0,30"/>

                    <!-- NgÃ y kiá»ƒm tra -->
                    <TextBlock Grid.Row="0" Grid.Column="3" Text="NgÃ y kiá»ƒm tra" FontSize="15" FontWeight="Bold" Margin="20,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="1" Grid.Column="3" Text="{Binding ExamDetails.ExamDateDisplay}" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="20,0,0,30"/>

                    <!-- Giá» báº¯t Ä‘áº§u -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Giá» báº¯t Ä‘áº§u" FontSize="15" FontWeight="Bold" Margin="0,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="4" Grid.Column="0" Text="{Binding ExamDetails.StartTimeDisplay}" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="0,0,0,30"/>

                    <!-- Giá» káº¿t thÃºc -->
                    <TextBlock Grid.Row="3" Grid.Column="1" Text="Giá» káº¿t thÃºc" FontSize="15" FontWeight="Bold" Margin="20,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding ExamDetails.EndTimeDisplay}" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="20,0,0,30"/>

                    <!-- Há»c ká»³ -->
                    <TextBlock Grid.Row="3" Grid.Column="2" Text="Há»c ká»³" FontSize="15" FontWeight="Bold" Margin="20,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="4" Grid.Column="2" Text="{Binding ExamDetails.TermName}" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="20,0,0,30"/>

                    <!-- NÄƒm há»c -->
                    <TextBlock Grid.Row="3" Grid.Column="3" Text="NÄƒm há»c" FontSize="15" FontWeight="Bold" Margin="20,0,0,5" Foreground="Black"/>
                    <TextBox Grid.Row="4" Grid.Column="3" Text="{Binding ExamDetails.TermYear}" IsHitTestVisible="False"
                                Background="#E5E5E5" Foreground="#555" Margin="20,0,0,30"/>

                    <Grid Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="4">
                        <UniformGrid Columns="2">

                            <!-- Danh sÃ¡ch phÃ²ng thi -->
                            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                Margin="10,0,10,20" RowDefinitions="Auto,*" Height="320">
                                
                                <TextBlock Grid.Row="0"
                                        Text="Danh sÃ¡ch phÃ²ng thi"
                                        FontSize="16"
                                        FontWeight="Bold"
                                        Margin="0,0,0,10"
                                        Foreground="Black"
                                        HorizontalAlignment="Center"/>

                                <Border Grid.Row="1" Classes="TableDataWarper" BorderBrush="#CCCCCC" BorderThickness="1" CornerRadius="0">
                                    <DataGrid Classes="TableData" ItemsSource="{Binding RoomDetails}" SelectionChanged="RoomSelectionChanged"
                                            VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn Header="STT" Width="65">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding $parent[DataGridRow].Index, Converter={x:Static conv:IntToIndexConverter.Instance}}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTextColumn 
                                                Binding="{Binding RoomName}"
                                                Header="Sá»‘ phÃ²ng"
                                                Width="*" />
                                            <DataGridTextColumn 
                                                Binding="{Binding TeacherName}"
                                                Header="GiÃ¡o viÃªn"
                                                Width="2*" />
                                            <DataGridTextColumn 
                                                Binding="{Binding RoomQuantity}"
                                                Header="Sá»©c chá»©a"
                                                Width="*" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Border>
                            </Grid>

                            <!-- Danh sÃ¡ch há»c sinh -->
                            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                Margin="10,0,10,20" RowDefinitions="Auto,*" Height="320">
                                
                                <TextBlock Grid.Row="0"
                                        Text="Danh sÃ¡ch há»c sinh"
                                        FontSize="16"
                                        FontWeight="Bold"
                                        Margin="0,0,0,10"
                                        Foreground="Black"
                                        HorizontalAlignment="Center"/>

                                <Border Grid.Row="1" Classes="TableDataWarper" BorderBrush="#CCCCCC" BorderThickness="1" CornerRadius="0">
                                    <DataGrid Classes="TableData" ItemsSource="{Binding StudentDetails}" 
                                            VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn Header="STT" Width="65">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding $parent[DataGridRow].Index, Converter={x:Static conv:IntToIndexConverter.Instance}}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTextColumn 
                                                Binding="{Binding StudentId}"
                                                Header="MÃ£ HS"
                                                Width="*" />
                                            <DataGridTextColumn 
                                                Binding="{Binding StudentName}"
                                                Header="Há» tÃªn há»c sinh"
                                                Width="2*" />
                                            <DataGridTextColumn 
                                                Binding="{Binding ClassName}"
                                                Header="Lá»›p"
                                                Width="*" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Border>
                            </Grid>
                        </UniformGrid>
                    </Grid>
                
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
